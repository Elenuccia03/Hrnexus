<link rel="stylesheet" href="~/css/calendariolavoratori.css">
<div class="search-container">
    <input type="text" id="search" placeholder="Cerca dipendente...">
    <button id="search-button">Cerca</button>
</div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css">
      <div class="container">
        <div class="buttons">
            <button id="checkInBtn">Timbra Entrata</button>
            <button id="checkOutBtn">Timbra Uscita</button>
        </div>
        <div id="calendar"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = $('#calendar').fullCalendar({
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'month,agendaWeek,agendaDay'
                },
                editable: true,
                events: []
            });

            document.getElementById('checkInBtn').addEventListener('click', function() {
                var now = new Date();
                var checkInEvent = {
                    title: 'Entrata',
                    start: now,
                    allDay: false
                };
                $('#calendar').fullCalendar('renderEvent', checkInEvent, true);
            });

            document.getElementById('checkOutBtn').addEventListener('click', function() {
                var now = new Date();
                var checkOutEvent = {
                    title: 'Uscita',
                    start: now,
                    allDay: false
                };
                $('#calendar').fullCalendar('renderEvent', checkOutEvent, true);
            });
        });
    </script> 
<div class="alert-table-container">
    <table class="alert-table">
        <thead>
            <tr>
                <th>Titolo</th>
                <th>Azione</th>
            </tr>
        </thead>
        <tbody id="alert-table-body">
            <!-- Qui verranno inseriti dinamicamente gli avvisi -->
        </tbody>
    </table>
</div>


<script> document.addEventListener('DOMContentLoaded', function() {
        const alertTableBody = document.getElementById('alert-table-body');

        function addAlertRow(title) {
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${title}</td>
                <td>
                    <button class="open-alert">Apri</button>
                    <button class="close-alert">Elaborazione</button>
                </td>
            `;
            alertTableBody.appendChild(newRow);

            // Associa eventi ai pulsanti appena aggiunti
            newRow.querySelector('.open-alert').addEventListener('click', function() {
                const alertContent = title;
                modalDate.textContent = `Contenuto dell'avviso "${alertContent}"`; // Aggiorna il testo del modal
                modal.style.display = 'flex'; // Visualizza il modal
            });

            newRow.querySelector('.close-alert').addEventListener('click', function() {
                showProcessingNotification(); // Simula elaborazione
            });
        }

        function showProcessingNotification() {
            alert("Elaborazione in corso..."); // Simula elaborazione
        }

        addAlertRow('Titolo dell\'avviso');
    });</script>