@model DipendenteViewModel
<link rel="stylesheet" href="~/css/calendariolavoratori.css">
<div class="search-container">
    <form asp-action="SearchEmployee" method="post">
        <input type="text" id="search" name="employeeName" placeholder="Cerca dipendente" />
        <button type="submit" id="search-button">Cerca</button>
    </form>
</div>
@if (Model == null)
{
    var currentDate = DateTime.Now;
    var daysInMonth = DateTime.DaysInMonth(currentDate.Year, currentDate.Month);
    var firstDayOfMonth = new DateTime(currentDate.Year, currentDate.Month, 1);
    var dayOfWeek = (int)firstDayOfMonth.DayOfWeek;

    <div class="calendar-container">
    <div class="month-selector">
        <form asp-action="ChangeMonth" method="post" class="month-nav">
            <input type="hidden" name="year" value="@ViewBag.CurrentDate.Year" />
            <input type="hidden" name="month" value="@ViewBag.CurrentDate.Month" />
            <button type="submit" name="direction" value="previous">Precedente</button>
            <span id="current-month">@ViewBag.CurrentDate.ToString("MMMM yyyy")</span>
            <button type="submit" name="direction" value="next">Successivo</button>
        </form>
    </div>

    <div id="calendar" class="calendar">
        @for (int i = 0; i < ViewBag.DayOfWeek; i++)
        {
            <div class="day"></div>
        }

        @for (int day = 1; day <= ViewBag.DaysInMonth; day++)
        {
            var currentDay = new DateTime(ViewBag.CurrentDate.Year, ViewBag.CurrentDate.Month, day);
            var isSelected = (currentDay.Date == DateTime.Today) ? "selected" : "";
            <div class="day">
                <form asp-action="SelectDate" method="post">
                    <input type="hidden" name="selectedDate" value="@currentDay.ToString("yyyy-MM-dd")" />
                    <input type="hidden" name="employeeName" value="" />
                    <button type="submit" class="@isSelected">@day</button>
                </form>
            </div>
        }
    </div>

    <div id="day-details"></div>
</div>
}
else
{
    <div>
        dipendente non trovato
    </div>
}
message.txt
3 KB