<link rel="stylesheet" href="~/css/gestioneassenze.css">
 <div class="search-container">
        <input type="text" id="search" placeholder="Cerca dipendente...">
        <button id="search-button">Cerca</button>
    </div>
<div class="container">

    <div class="container">
        <h2>Gestionale Permessi e Ferie</h2>
        <form id="requestForm">
            <label for="employeeName">Nome Dipendente:</label>
            <input type="text" id="employeeName" name="employeeName" required><br>
            <label for="requestType">Tipo di Richiesta:</label>
            <select id="requestType" name="requestType" required>
                <option value="">Seleziona...</option>
                <option value="permesso">Permesso</option>
                <option value="ferie">Ferie</option>
            </select><br>
            <label for="startDate">Data di Inizio:</label>
            <input type="date" id="startDate" name="startDate" required><br>
            <label for="endDate">Data di Fine:</label>
            <input type="date" id="endDate" name="endDate" required><br>
            <button type="submit">Registra richiesta</button>
        </form>
        <h3>Richieste accettate</h3>
        <table id="pendingRequests">
            <thead>
                <tr>
                    <th>Dipendente</th>
                    <th>Tipo</th>
                    <th>Data Inizio</th>
                    <th>Data Fine</th>
                </tr>
            </thead>
            <tbody>
                <!-- Qui verranno inserite dinamicamente le richieste pendenti -->
            </tbody>
        </table>
    </div>
    <h3>Richieste Dipendenti</h3>

    <table>
        <thead>
            <tr>
                <th>Nome</th>
                <th>Cognome</th>
                <th>Email</th>
                <th>Motivazione</th>
                <th>Data Invio</th>
                <th>Periodo</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Mario</td>
                <td>Rossi</td>
                <td>mario.rossi@example.com</td>
                <td>Richiesta di ferie</td>
                <td>24-05-2024</td>
                <td>12-06-24/16-06-24</td>
            </tr>

        </tbody>
    </table>
</div>

 <div class="container">
        <h3>Conto Ferie e Permessi</h3>
        <form id="calcForm">
            <label for="ferie">Ferie totali (giorni):</label>
            <input type="number" id="ferie" name="ferie" required><br>
            <label for="ferieUsate">Ferie già utilizzate (giorni):</label>
            <input type="number" id="ferieUsate" name="ferieUsate" required><br>
            <label for="permessi">Permessi totali (giorni):</label>
            <input type="number" id="permessi" name="permessi" required><br>
            <label for="permessiUsati">Permessi già utilizzati (giorni):</label>
            <input type="number" id="permessiUsati" name="permessiUsati" required><br>
            <button type="button" onclick="calcolaSaldo()">Calcola</button>
        </form>
        <div id="result"></div>
    </div>

    <script>
        function calcolaSaldo() {
            var ferieTotali = parseInt(document.getElementById('ferie').value);
            var ferieUsate = parseInt(document.getElementById('ferieUsate').value);
            var permessiTotali = parseInt(document.getElementById('permessi').value);
            var permessiUsati = parseInt(document.getElementById('permessiUsati').value);

            var ferieRimanenti = ferieTotali - ferieUsate;
            var permessiRimasti = permessiTotali - permessiUsati;

            var risultato = "Ferie rimanenti: " + ferieRimanenti + " giorni<br>";
            risultato += "Permessi rimasti: " + permessiRimasti + " giorni";

            document.getElementById('result').innerHTML = risultato;
        }
    </script>

<script>
    document.getElementById('requestForm').addEventListener('submit', function(event) {
        event.preventDefault();
        
        // Recupera i valori dal form
        var employeeName = document.getElementById('employeeName').value;
        var requestType = document.getElementById('requestType').value;
        var startDate = document.getElementById('startDate').value;
        var endDate = document.getElementById('endDate').value;

        // Crea una nuova riga per la tabella delle richieste pendenti
        var newRow = document.createElement('tr');
        newRow.innerHTML = `
            <td>${employeeName}</td>
            <td>${requestType}</td>
            <td>${startDate}</td>
            <td>${endDate}</td>
        `;

        // Aggiungi la nuova riga alla tabella
        document.querySelector('#pendingRequests tbody').appendChild(newRow);

        // Resetta il form
        document.getElementById('requestForm').reset();
    });
</script>